import{S as D,i as A,s as O,L as C,e as u,t as g,k as L,c as _,a as p,h as v,d as c,m as j,b as k,g as m,G as h,M as P,K as w,N as y,z as R,O as G,C as K}from"../chunks/vendor-157f1c40.js";var S=globalThis&&globalThis.__awaiter||function(i,t,l,n){function e(s){return s instanceof l?s:new l(function(a){a(s)})}return new(l||(l=Promise))(function(s,a){function o(d){try{f(n.next(d))}catch(b){a(b)}}function r(d){try{f(n.throw(d))}catch(b){a(b)}}function f(d){d.done?s(d.value):e(d.value).then(o,r)}f((n=n.apply(i,t||[])).next())})};const $="https://thestandard.co/wp-json/wp/v2",E=47793,z="newsthumb-small";function H(i){return i?`?${Object.entries(i).map(([t,l])=>`${t}=${l}`).join("&")}`:""}function x(i,t){return S(this,void 0,void 0,function*(){return yield(yield fetch($+i+H(t))).json()})}function M({limit:i=6,candidateName:t=""}={}){return S(this,void 0,void 0,function*(){const l=t?(yield x("/tags",{search:t,_fields:"id",per_page:1}))[0].id:E;return(yield x("/posts",{tags:l,_embed:"wp:featuredmedia",_fields:"id,title,link,date,tags,_links.wp:featuredmedia,_embedded.wp:featuredmedia",per_page:i})).filter(({tags:e})=>!t||(e==null?void 0:e.includes(E))).map(({id:e,title:s,link:a,date:o,_embedded:r})=>{const[f]=r==null?void 0:r["wp:featuredmedia"];return{id:e,title:s.rendered,link:a,date:new Date(o).toLocaleDateString("th-TH",{dateStyle:"long"}),image:f.media_details.sizes[z].source_url}})})}function T(i,t,l){const n=i.slice();return n[1]=t[l],n}function V(i){let t,l,n=i[4].message+"",e;return{c(){t=u("p"),l=g("Something went wrong: "),e=g(n)},l(s){t=_(s,"P",{});var a=p(t);l=v(a,"Something went wrong: "),e=v(a,n),a.forEach(c)},m(s,a){m(s,t,a),h(t,l),h(t,e)},p:w,d(s){s&&c(t)}}}function q(i){let t,l=i[0],n=[];for(let e=0;e<l.length;e+=1)n[e]=I(T(i,l,e));return{c(){t=u("div");for(let e=0;e<n.length;e+=1)n[e].c();this.h()},l(e){t=_(e,"DIV",{class:!0});var s=p(t);for(let a=0;a<n.length;a+=1)n[a].l(s);s.forEach(c),this.h()},h(){k(t,"class","grid grid-cols-3 gap-12")},m(e,s){m(e,t,s);for(let a=0;a<n.length;a+=1)n[a].m(t,null)},p(e,s){if(s&0){l=e[0];let a;for(a=0;a<l.length;a+=1){const o=T(e,l,a);n[a]?n[a].p(o,s):(n[a]=I(o),n[a].c(),n[a].m(t,null))}for(;a<n.length;a+=1)n[a].d(1);n.length=l.length}},d(e){e&&c(t),G(n,e)}}}function I(i){let t,l=[i[1]],n={};for(let e=0;e<l.length;e+=1)n=K(n,l[e]);return{c(){t=u("ui-post-card"),this.h()},l(e){t=_(e,"UI-POST-CARD",{}),p(t).forEach(c),this.h()},h(){y(t,n)},m(e,s){m(e,t,s)},p(e,s){y(t,n=R(l,[e[1]]))},d(e){e&&c(t)}}}function B(i){let t,l;return{c(){t=u("p"),l=g("Loading...")},l(n){t=_(n,"P",{});var e=p(t);l=v(e,"Loading..."),e.forEach(c)},m(n,e){m(n,t,e),h(t,l)},p:w,d(n){n&&c(t)}}}function U(i){let t,l,n,e,s={ctx:i,current:null,token:null,hasCatch:!0,pending:B,then:q,catch:V,value:0,error:4};return C(M(),s),{c(){t=u("div"),l=u("h1"),n=g("\u0E02\u0E48\u0E32\u0E27\u0E25\u0E48\u0E32\u0E2A\u0E38\u0E14\u0E40\u0E01\u0E35\u0E48\u0E22\u0E27\u0E01\u0E31\u0E1A\u0E01\u0E32\u0E23\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E15\u0E31\u0E49\u0E07 \u0E01\u0E17\u0E21."),e=L(),s.block.c(),this.h()},l(a){t=_(a,"DIV",{class:!0});var o=p(t);l=_(o,"H1",{class:!0});var r=p(l);n=v(r,"\u0E02\u0E48\u0E32\u0E27\u0E25\u0E48\u0E32\u0E2A\u0E38\u0E14\u0E40\u0E01\u0E35\u0E48\u0E22\u0E27\u0E01\u0E31\u0E1A\u0E01\u0E32\u0E23\u0E40\u0E25\u0E37\u0E2D\u0E01\u0E15\u0E31\u0E49\u0E07 \u0E01\u0E17\u0E21."),r.forEach(c),e=j(o),s.block.l(o),o.forEach(c),this.h()},h(){k(l,"class","typo-h4"),k(t,"class","px-6 py-12 max-w-screen-xl mx-auto space-y-6")},m(a,o){m(a,t,o),h(t,l),h(l,n),h(t,e),s.block.m(t,s.anchor=null),s.mount=()=>t,s.anchor=null},p(a,[o]){i=a,P(s,i,o)},i:w,o:w,d(a){a&&c(t),s.block.d(),s.token=null,s=null}}}class F extends D{constructor(t){super();A(this,t,null,U,O,{})}}export{F as default};
